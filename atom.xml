<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://zenghongqiang.github.io</id>
    <title>Gridea</title>
    <updated>2021-09-08T14:10:41.154Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://zenghongqiang.github.io"/>
    <link rel="self" href="https://zenghongqiang.github.io/atom.xml"/>
    <subtitle>温故而知新</subtitle>
    <logo>https://zenghongqiang.github.io/images/avatar.png</logo>
    <icon>https://zenghongqiang.github.io/favicon.ico</icon>
    <rights>All rights reserved 2021, Gridea</rights>
    <entry>
        <title type="html"><![CDATA[动态显存 和 0xE2 修复]]></title>
        <id>https://zenghongqiang.github.io/post/dong-tai-xian-cun-he-0xe2-xiu-fu/</id>
        <link href="https://zenghongqiang.github.io/post/dong-tai-xian-cun-he-0xe2-xiu-fu/">
        </link>
        <updated>2021-09-08T13:55:25.000Z</updated>
        <content type="html"><![CDATA[<h2 id="简介">简介</h2>
<p><strong>仅支持 MX150！</strong></p>
<ol start="0">
<li>
<p><strong>非常重要! 只在 BIOS 0603 测试过该脚本。 @FallenChromium 和 Cyb 对任何损坏均不负责，虽然由他们制作脚本，但你需要个人承担风险。</strong></p>
<ul>
<li>经个人测试，0906 BIOS 依然有效</li>
<li>经本人测试，小米笔记本Air 13.3（第7代CPU平台驱动 指纹版）1B13 依然有效</li>
</ul>
</li>
<li>
<p><strong>重要 - 用 <code>backup.cmd</code> 制作备份，把生成的 <code>mybackup.bin</code> 保存在云端。这是个理论上可行但不稳定的恢复方案。</strong></p>
</li>
<li>
<p>在进行任意操作之前，确保你的 Windows 设备允许运行 PowerShell 脚本。更多信息在<a href="https://docs.microsoft.com/en-us/powershell/module/microsoft.powershell.security/set-executionpolicy?view=powershell-6">这里</a>。我把所有的 policy (CurrentUser 和其他) 设成了 Unrestricted。做了这个操作后我的脚本才运行正常。</p>
</li>
<li>
<p>在对 BIOS 做进一步修改之前运行 <code>bios_unlock.cmd</code>。</p>
</li>
<li>
<p>运行 <code>DVMT_set.cmd</code> 让动态显存=64mb。你需要重启否则脚本将不会生效。你不能一股脑运行完所有脚本再重启，因为只有关机前最后一个脚本生效。</p>
</li>
<li>
<p>运行 <code>CFG_unlock.cmd</code>，再次重启。</p>
</li>
<li>
<p>运行 <code>bios_lock.cmd</code> 来给 BIOS 重新上锁，让电脑更安全。</p>
</li>
<li>
<p>删除动态显存补丁并修改 <code>framebuffer-flags</code>。</p>
</li>
</ol>
<ul>
<li><strong>如果你是 Clover 或 OC 用户：</strong>
<ul>
<li>打开 <code>/EFI/CLOVER (或者 OC)/config.plist</code>，删除以下代码：</li>
</ul>
</li>
</ul>
<pre><code class="language-xml">    &lt;key&gt;framebuffer-fbmem&lt;/key&gt;
    &lt;data&gt;AACQAA==&lt;/data&gt;
    &lt;key&gt;framebuffer-stolenmem&lt;/key&gt;
    &lt;data&gt;AAAwAQ==&lt;/data&gt;
</code></pre>
<ul>
<li>然后修改 <code>framebuffer-flags</code> 来开启 <code>FBEnableDynamicCDCLK</code></li>
</ul>
<pre><code class="language-diff">    &lt;key&gt;framebuffer-flags&lt;/key&gt;
-   &lt;data&gt;CwfDAA==&lt;/data&gt;
+   &lt;data&gt;CwfjAA==&lt;/data&gt;
</code></pre>
<ul>
<li>可选，更改 <code>ig-platform-id</code> 为 <code>0x05001c59</code>（macOS 版本高于 10.14）来提升显卡表现</li>
</ul>
<pre><code class="language-diff">    &lt;key&gt;AAPL,ig-platform-id&lt;/key&gt;
-   &lt;data&gt;AAAWWQ==&lt;/data&gt;
+   &lt;data&gt;BQAcWQ==&lt;/data&gt;
    &lt;key&gt;AAPL,slot-name&lt;/key&gt;
    &lt;string&gt;Internal&lt;/string&gt;
    &lt;key&gt;complete-modeset-framebuffers&lt;/key&gt;
    &lt;data&gt;AAAAAAAAAAE=&lt;/data&gt;
    &lt;key&gt;device-id&lt;/key&gt;
    &lt;data&gt;FlkAAA==&lt;/data&gt;
    &lt;key&gt;force-online&lt;/key&gt;
    &lt;data&gt;AQAAAA==&lt;/data&gt;
    &lt;key&gt;force-online-framebuffers&lt;/key&gt;
    &lt;data&gt;AAAAAAAAAAE=&lt;/data&gt;
-   &lt;key&gt;framebuffer-con0-enable&lt;/key&gt;
-   &lt;data&gt;AQAAAA==&lt;/data&gt;
-   &lt;key&gt;framebuffer-con0-flags&lt;/key&gt;
-   &lt;data&gt;mAQAAA==&lt;/data&gt;
    &lt;key&gt;framebuffer-con1-enable&lt;/key&gt;
    &lt;data&gt;AQAAAA==&lt;/data&gt;
-   &lt;key&gt;framebuffer-con1-flags&lt;/key&gt;
-   &lt;data&gt;xwMAAA==&lt;/data&gt;
    &lt;key&gt;framebuffer-con1-pipe&lt;/key&gt;
    &lt;data&gt;CgAAAA==&lt;/data&gt;
    &lt;key&gt;framebuffer-con1-type&lt;/key&gt;
    &lt;data&gt;AAgAAA==&lt;/data&gt;
    &lt;key&gt;framebuffer-con2-enable&lt;/key&gt;
    &lt;data&gt;AQAAAA==&lt;/data&gt;
-   &lt;key&gt;framebuffer-con2-flags&lt;/key&gt;
-   &lt;data&gt;xwMAAA==&lt;/data&gt;
</code></pre>
<ol start="8">
<li>禁用 MSR 0xE2 补丁。</li>
</ol>
<ul>
<li>如果是 Clover 用户，更改以下代码来禁用 MSR 0xE2 补丁：</li>
</ul>
<pre><code class="language-diff">    &lt;key&gt;KernelPm&lt;/key&gt;
-   &lt;true/&gt;
+   &lt;false/&gt;
</code></pre>
<ul>
<li>如果是 OC 用户，更改以下代码来禁用 MSR 0xE2 补丁：</li>
</ul>
<pre><code class="language-diff">    &lt;key&gt;AppleXcpmCfgLock&lt;/key&gt;
-   &lt;true/&gt;
+   &lt;false/&gt;
</code></pre>
<h2 id="鸣谢">鸣谢</h2>
<ul>
<li>感谢 <a href="https://github.com/FallenChromium">FallenChromium</a> 和 <a href="http://4pda.ru/forum/index.php?showuser=914121">Cyb</a> 制作脚本和说明。</li>
<li>原帖地址:https://github.com/daliansky/XiaoMi-Pro-Hackintosh/blob/main/BIOS/TM1701/DVMT_and_0xE2_fix/README_CN.md</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Composer proc_open (): 分支失败错误]]></title>
        <id>https://zenghongqiang.github.io/post/composer-proc_open-fen-zhi-shi-bai-cuo-wu/</id>
        <link href="https://zenghongqiang.github.io/post/composer-proc_open-fen-zhi-shi-bai-cuo-wu/">
        </link>
        <updated>2021-09-07T07:02:49.000Z</updated>
        <content type="html"><![CDATA[<p>如果 composer 显示 proc_open() 则在某些命令上失败:</p>
<pre><code>PHP Fatal error: Uncaught exception 'ErrorException' with message 'proc_open():  
fork failed - Cannot allocate memory' in phar
</code></pre>
<p>这可能会发生，因为 VPS 内存不足，并且没有启用交换空间。</p>
<pre><code>free -m

total used free shared buffers cached
Mem: 2048 357 1690 0 0 237
-/+ buffers/cache: 119 1928
Swap: 0 0 0
</code></pre>
<p>若要启用交换，您可以使用例如：</p>
<pre><code>/bin/dd if=/dev/zero of=/var/swap.1 bs=1M count=1024
/sbin/mkswap /var/swap.1
/sbin/swapon /var/swap.1
</code></pre>
<p>永久交换文件<br>
我们最近的更改已为当前会话启用了交换文件。但是，如果重新启动，服务器将不会自动保留交换设置。我们可以通过将交换文件添加到文件中来进行/etc/fstab更改。</p>
<p>备份/etc/fstab文件，以防出现任何问题：</p>
<pre><code>sudo cp /etc/fstab /etc/fstab.bak
</code></pre>
<p>/etc/fstab通过输入以下命令将交换文件信息添加到文件末尾：</p>
<pre><code>echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello Gridea]]></title>
        <id>https://zenghongqiang.github.io/post/hello-gridea/</id>
        <link href="https://zenghongqiang.github.io/post/hello-gridea/">
        </link>
        <updated>2018-12-11T16:00:00.000Z</updated>
        <summary type="html"><![CDATA[<p>👏  欢迎使用 <strong>Gridea</strong> ！<br>
✍️  <strong>Gridea</strong> 一个静态博客写作客户端。你可以用它来记录你的生活、心情、知识、笔记、创意... ...</p>
]]></summary>
        <content type="html"><![CDATA[<p>👏  欢迎使用 <strong>Gridea</strong> ！<br>
✍️  <strong>Gridea</strong> 一个静态博客写作客户端。你可以用它来记录你的生活、心情、知识、笔记、创意... ...</p>
<!-- more -->
<p><a href="https://github.com/getgridea/gridea">Github</a><br>
<a href="https://gridea.dev/">Gridea 主页</a><br>
<a href="http://fehey.com/">示例网站</a></p>
<h2 id="特性">特性👇</h2>
<p>📝  你可以使用最酷的 <strong>Markdown</strong> 语法，进行快速创作</p>
<p>🌉  你可以给文章配上精美的封面图和在文章任意位置插入图片</p>
<p>🏷️  你可以对文章进行标签分组</p>
<p>📋  你可以自定义菜单，甚至可以创建外部链接菜单</p>
<p>💻  你可以在 <strong>Windows</strong>，<strong>MacOS</strong> 或 <strong>Linux</strong> 设备上使用此客户端</p>
<p>🌎  你可以使用 <strong>𝖦𝗂𝗍𝗁𝗎𝖻 𝖯𝖺𝗀𝖾𝗌</strong> 或 <strong>Coding Pages</strong> 向世界展示，未来将支持更多平台</p>
<p>💬  你可以进行简单的配置，接入 <a href="https://github.com/gitalk/gitalk">Gitalk</a> 或 <a href="https://github.com/SukkaW/DisqusJS">DisqusJS</a> 评论系统</p>
<p>🇬🇧  你可以使用<strong>中文简体</strong>或<strong>英语</strong></p>
<p>🌁  你可以任意使用应用内默认主题或任意第三方主题，强大的主题自定义能力</p>
<p>🖥  你可以自定义源文件夹，利用 OneDrive、百度网盘、iCloud、Dropbox 等进行多设备同步</p>
<p>🌱 当然 <strong>Gridea</strong> 还很年轻，有很多不足，但请相信，它会不停向前 🏃</p>
<p>未来，它一定会成为你离不开的伙伴</p>
<p>尽情发挥你的才华吧！</p>
<p>😘 Enjoy~</p>
]]></content>
    </entry>
</feed>